<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Java中atomic包中的原子操作类总结 | 吴益龙的博客</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="吴益龙的博客">
    
    <link rel="preload" href="/blog-docs/assets/css/0.styles.51dfe6fe.css" as="style"><link rel="preload" href="/blog-docs/assets/js/app.a89f69b6.js" as="script"><link rel="preload" href="/blog-docs/assets/js/2.d20fb779.js" as="script"><link rel="preload" href="/blog-docs/assets/js/119.4e52457a.js" as="script"><link rel="prefetch" href="/blog-docs/assets/js/10.ce89d165.js"><link rel="prefetch" href="/blog-docs/assets/js/100.ead7e371.js"><link rel="prefetch" href="/blog-docs/assets/js/101.7dc02cc8.js"><link rel="prefetch" href="/blog-docs/assets/js/102.65622b08.js"><link rel="prefetch" href="/blog-docs/assets/js/103.64b30ebc.js"><link rel="prefetch" href="/blog-docs/assets/js/104.522b4976.js"><link rel="prefetch" href="/blog-docs/assets/js/105.74b26057.js"><link rel="prefetch" href="/blog-docs/assets/js/106.7e839b9a.js"><link rel="prefetch" href="/blog-docs/assets/js/107.eb23121d.js"><link rel="prefetch" href="/blog-docs/assets/js/108.8a32a2e5.js"><link rel="prefetch" href="/blog-docs/assets/js/109.6be0c37b.js"><link rel="prefetch" href="/blog-docs/assets/js/11.7af1ea0e.js"><link rel="prefetch" href="/blog-docs/assets/js/110.238cb720.js"><link rel="prefetch" href="/blog-docs/assets/js/111.3e99f827.js"><link rel="prefetch" href="/blog-docs/assets/js/112.eb22a5fa.js"><link rel="prefetch" href="/blog-docs/assets/js/113.de1dd438.js"><link rel="prefetch" href="/blog-docs/assets/js/114.4ca21bd8.js"><link rel="prefetch" href="/blog-docs/assets/js/115.8f8ad85e.js"><link rel="prefetch" href="/blog-docs/assets/js/116.1ae6d20e.js"><link rel="prefetch" href="/blog-docs/assets/js/117.2c95aca5.js"><link rel="prefetch" href="/blog-docs/assets/js/118.818acf8a.js"><link rel="prefetch" href="/blog-docs/assets/js/12.5f02203f.js"><link rel="prefetch" href="/blog-docs/assets/js/120.2c9f2461.js"><link rel="prefetch" href="/blog-docs/assets/js/121.90b568f2.js"><link rel="prefetch" href="/blog-docs/assets/js/122.5b0ed4a5.js"><link rel="prefetch" href="/blog-docs/assets/js/123.115d599c.js"><link rel="prefetch" href="/blog-docs/assets/js/124.0e86ba2f.js"><link rel="prefetch" href="/blog-docs/assets/js/125.2ced9bae.js"><link rel="prefetch" href="/blog-docs/assets/js/126.ba6a82df.js"><link rel="prefetch" href="/blog-docs/assets/js/127.0c1bd267.js"><link rel="prefetch" href="/blog-docs/assets/js/128.65d00a51.js"><link rel="prefetch" href="/blog-docs/assets/js/129.59701784.js"><link rel="prefetch" href="/blog-docs/assets/js/13.7c743478.js"><link rel="prefetch" href="/blog-docs/assets/js/130.a5246f49.js"><link rel="prefetch" href="/blog-docs/assets/js/131.72e86b5c.js"><link rel="prefetch" href="/blog-docs/assets/js/132.6c749ed3.js"><link rel="prefetch" href="/blog-docs/assets/js/133.f0bbfed1.js"><link rel="prefetch" href="/blog-docs/assets/js/134.b40b57e1.js"><link rel="prefetch" href="/blog-docs/assets/js/135.c2701081.js"><link rel="prefetch" href="/blog-docs/assets/js/136.b98ae517.js"><link rel="prefetch" href="/blog-docs/assets/js/137.c6177b68.js"><link rel="prefetch" href="/blog-docs/assets/js/138.2f511adf.js"><link rel="prefetch" href="/blog-docs/assets/js/139.a51702e5.js"><link rel="prefetch" href="/blog-docs/assets/js/14.ba2733bb.js"><link rel="prefetch" href="/blog-docs/assets/js/140.a5f826bd.js"><link rel="prefetch" href="/blog-docs/assets/js/141.a9cf9e74.js"><link rel="prefetch" href="/blog-docs/assets/js/142.ffb1e6ae.js"><link rel="prefetch" href="/blog-docs/assets/js/143.5c96e2cd.js"><link rel="prefetch" href="/blog-docs/assets/js/144.490be9db.js"><link rel="prefetch" href="/blog-docs/assets/js/145.c3d28202.js"><link rel="prefetch" href="/blog-docs/assets/js/146.035df1e0.js"><link rel="prefetch" href="/blog-docs/assets/js/147.e7f79f19.js"><link rel="prefetch" href="/blog-docs/assets/js/148.92fcc742.js"><link rel="prefetch" href="/blog-docs/assets/js/149.7784a68a.js"><link rel="prefetch" href="/blog-docs/assets/js/15.5b47152f.js"><link rel="prefetch" href="/blog-docs/assets/js/150.3badab5c.js"><link rel="prefetch" href="/blog-docs/assets/js/151.f1cbd0f1.js"><link rel="prefetch" href="/blog-docs/assets/js/152.c1613275.js"><link rel="prefetch" href="/blog-docs/assets/js/153.f3d5c862.js"><link rel="prefetch" href="/blog-docs/assets/js/154.8290615b.js"><link rel="prefetch" href="/blog-docs/assets/js/155.03f00dac.js"><link rel="prefetch" href="/blog-docs/assets/js/156.88cd84fd.js"><link rel="prefetch" href="/blog-docs/assets/js/157.b02fbdbb.js"><link rel="prefetch" href="/blog-docs/assets/js/158.cdefdc0f.js"><link rel="prefetch" href="/blog-docs/assets/js/159.897f3620.js"><link rel="prefetch" href="/blog-docs/assets/js/16.5c1ff9fb.js"><link rel="prefetch" href="/blog-docs/assets/js/160.1c67479f.js"><link rel="prefetch" href="/blog-docs/assets/js/161.c7b03e73.js"><link rel="prefetch" href="/blog-docs/assets/js/162.20a6ac9f.js"><link rel="prefetch" href="/blog-docs/assets/js/163.e0c7028d.js"><link rel="prefetch" href="/blog-docs/assets/js/164.ad637a13.js"><link rel="prefetch" href="/blog-docs/assets/js/165.43533c0a.js"><link rel="prefetch" href="/blog-docs/assets/js/166.56bc5d41.js"><link rel="prefetch" href="/blog-docs/assets/js/167.debe9111.js"><link rel="prefetch" href="/blog-docs/assets/js/168.91930f96.js"><link rel="prefetch" href="/blog-docs/assets/js/169.4cb881e3.js"><link rel="prefetch" href="/blog-docs/assets/js/17.9e3fb97a.js"><link rel="prefetch" href="/blog-docs/assets/js/170.7028b3ab.js"><link rel="prefetch" href="/blog-docs/assets/js/171.231e49bc.js"><link rel="prefetch" href="/blog-docs/assets/js/18.78ccb707.js"><link rel="prefetch" href="/blog-docs/assets/js/19.91934846.js"><link rel="prefetch" href="/blog-docs/assets/js/20.277f0458.js"><link rel="prefetch" href="/blog-docs/assets/js/21.66a3f7e9.js"><link rel="prefetch" href="/blog-docs/assets/js/22.53103f80.js"><link rel="prefetch" href="/blog-docs/assets/js/23.7df4a755.js"><link rel="prefetch" href="/blog-docs/assets/js/24.6e2b6be4.js"><link rel="prefetch" href="/blog-docs/assets/js/25.72b659bd.js"><link rel="prefetch" href="/blog-docs/assets/js/26.79a9eade.js"><link rel="prefetch" href="/blog-docs/assets/js/27.a4f0209b.js"><link rel="prefetch" href="/blog-docs/assets/js/28.bc36032c.js"><link rel="prefetch" href="/blog-docs/assets/js/29.77ec583b.js"><link rel="prefetch" href="/blog-docs/assets/js/3.fb6993b0.js"><link rel="prefetch" href="/blog-docs/assets/js/30.ffca4ac6.js"><link rel="prefetch" href="/blog-docs/assets/js/31.35c3af9e.js"><link rel="prefetch" href="/blog-docs/assets/js/32.e9161fbc.js"><link rel="prefetch" href="/blog-docs/assets/js/33.76da7627.js"><link rel="prefetch" href="/blog-docs/assets/js/34.6dea0bcc.js"><link rel="prefetch" href="/blog-docs/assets/js/35.6f50269a.js"><link rel="prefetch" href="/blog-docs/assets/js/36.34976541.js"><link rel="prefetch" href="/blog-docs/assets/js/37.0b7d15c6.js"><link rel="prefetch" href="/blog-docs/assets/js/38.931d2ddc.js"><link rel="prefetch" href="/blog-docs/assets/js/39.2a8d35ff.js"><link rel="prefetch" href="/blog-docs/assets/js/4.04ab9679.js"><link rel="prefetch" href="/blog-docs/assets/js/40.83f711b5.js"><link rel="prefetch" href="/blog-docs/assets/js/41.e6efcf12.js"><link rel="prefetch" href="/blog-docs/assets/js/42.9c456f1a.js"><link rel="prefetch" href="/blog-docs/assets/js/43.6d2a19a3.js"><link rel="prefetch" href="/blog-docs/assets/js/44.18cb6971.js"><link rel="prefetch" href="/blog-docs/assets/js/45.ecd9f4d0.js"><link rel="prefetch" href="/blog-docs/assets/js/46.626ba871.js"><link rel="prefetch" href="/blog-docs/assets/js/47.e8ebb045.js"><link rel="prefetch" href="/blog-docs/assets/js/48.881dade0.js"><link rel="prefetch" href="/blog-docs/assets/js/49.91627b06.js"><link rel="prefetch" href="/blog-docs/assets/js/5.1873b179.js"><link rel="prefetch" href="/blog-docs/assets/js/50.a14e1999.js"><link rel="prefetch" href="/blog-docs/assets/js/51.8c84becb.js"><link rel="prefetch" href="/blog-docs/assets/js/52.ee31a612.js"><link rel="prefetch" href="/blog-docs/assets/js/53.ef72ee44.js"><link rel="prefetch" href="/blog-docs/assets/js/54.ada4baf0.js"><link rel="prefetch" href="/blog-docs/assets/js/55.310a1b2a.js"><link rel="prefetch" href="/blog-docs/assets/js/56.dabb55ad.js"><link rel="prefetch" href="/blog-docs/assets/js/57.57be9686.js"><link rel="prefetch" href="/blog-docs/assets/js/58.bc2af85c.js"><link rel="prefetch" href="/blog-docs/assets/js/59.57695909.js"><link rel="prefetch" href="/blog-docs/assets/js/6.ffc21dda.js"><link rel="prefetch" href="/blog-docs/assets/js/60.e1469407.js"><link rel="prefetch" href="/blog-docs/assets/js/61.28a5ef7a.js"><link rel="prefetch" href="/blog-docs/assets/js/62.65746977.js"><link rel="prefetch" href="/blog-docs/assets/js/63.9385a046.js"><link rel="prefetch" href="/blog-docs/assets/js/64.4c58f8cb.js"><link rel="prefetch" href="/blog-docs/assets/js/65.f5def24f.js"><link rel="prefetch" href="/blog-docs/assets/js/66.edcbb351.js"><link rel="prefetch" href="/blog-docs/assets/js/67.a9580d80.js"><link rel="prefetch" href="/blog-docs/assets/js/68.d349e673.js"><link rel="prefetch" href="/blog-docs/assets/js/69.f89e0ad1.js"><link rel="prefetch" href="/blog-docs/assets/js/7.604f2cf3.js"><link rel="prefetch" href="/blog-docs/assets/js/70.d8037a02.js"><link rel="prefetch" href="/blog-docs/assets/js/71.2c659dbc.js"><link rel="prefetch" href="/blog-docs/assets/js/72.30ff712e.js"><link rel="prefetch" href="/blog-docs/assets/js/73.d6124c43.js"><link rel="prefetch" href="/blog-docs/assets/js/74.b368add8.js"><link rel="prefetch" href="/blog-docs/assets/js/75.710c78a6.js"><link rel="prefetch" href="/blog-docs/assets/js/76.d02af389.js"><link rel="prefetch" href="/blog-docs/assets/js/77.772d7877.js"><link rel="prefetch" href="/blog-docs/assets/js/78.acdf1204.js"><link rel="prefetch" href="/blog-docs/assets/js/79.3841a692.js"><link rel="prefetch" href="/blog-docs/assets/js/8.02188626.js"><link rel="prefetch" href="/blog-docs/assets/js/80.9f8115b4.js"><link rel="prefetch" href="/blog-docs/assets/js/81.454cfc40.js"><link rel="prefetch" href="/blog-docs/assets/js/82.c9501ea9.js"><link rel="prefetch" href="/blog-docs/assets/js/83.d1f8f4b2.js"><link rel="prefetch" href="/blog-docs/assets/js/84.1a4e4481.js"><link rel="prefetch" href="/blog-docs/assets/js/85.8b5062bd.js"><link rel="prefetch" href="/blog-docs/assets/js/86.c2c231b6.js"><link rel="prefetch" href="/blog-docs/assets/js/87.11d0bd52.js"><link rel="prefetch" href="/blog-docs/assets/js/88.570ca5e4.js"><link rel="prefetch" href="/blog-docs/assets/js/89.b78d36e0.js"><link rel="prefetch" href="/blog-docs/assets/js/9.5585259d.js"><link rel="prefetch" href="/blog-docs/assets/js/90.55d0d283.js"><link rel="prefetch" href="/blog-docs/assets/js/91.6b6408ca.js"><link rel="prefetch" href="/blog-docs/assets/js/92.3802d7bb.js"><link rel="prefetch" href="/blog-docs/assets/js/93.049b7031.js"><link rel="prefetch" href="/blog-docs/assets/js/94.7288d09b.js"><link rel="prefetch" href="/blog-docs/assets/js/95.14f41657.js"><link rel="prefetch" href="/blog-docs/assets/js/96.1586307c.js"><link rel="prefetch" href="/blog-docs/assets/js/97.7fae0f0e.js"><link rel="prefetch" href="/blog-docs/assets/js/98.fab6426d.js"><link rel="prefetch" href="/blog-docs/assets/js/99.a9e1819c.js">
    <link rel="stylesheet" href="/blog-docs/assets/css/0.styles.51dfe6fe.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog-docs/" class="home-link router-link-active"><!----> <span class="site-name">吴益龙的博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog-docs/install/" class="nav-link">
  安装文档
</a></div><div class="nav-item"><a href="/blog-docs/technology/前端/jQuery中封装ajax请求/" class="nav-link">
  前端
</a></div><div class="nav-item"><a href="/blog-docs/technology/Rust/Rust编程语言入门/" class="nav-link">
  Rust编程语言
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="java" class="dropdown-title"><span class="title">java</span> <span class="arrow down"></span></button> <button type="button" aria-label="java" class="mobile-dropdown-title"><span class="title">java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog-docs/technology/java/spring/Spring IOC/SpringBean的生命流程/" class="nav-link">
  Spring专题
</a></li><li class="dropdown-item"><!----> <a href="/blog-docs/technology/java/SpringBoot专题/" class="nav-link">
  SpringBoot专题
</a></li><li class="dropdown-item"><!----> <a href="/blog-docs/technology/java/基于OAuth2.0的统一身份认证中心/Spring Security oAuth2/" class="nav-link">
  基于OAuth2.0的统一身份认证中心
</a></li><li class="dropdown-item"><!----> <a href="/blog-docs/technology/java/SpingCloud Alibaba实战/微服务与SpringCloud Alibaba/" class="nav-link">
  SpingCloud Alibaba实战
</a></li><li class="dropdown-item"><!----> <a href="/blog-docs/technology/java/MyBatis/MyBatis 源码分析系列文章导读/" class="nav-link">
  MyBatis
</a></li><li class="dropdown-item"><!----> <a href="/blog-docs/technology/java/Dubbo/Dubbo 源码分析 - SPI 机制/" class="nav-link">
  Dubbo
</a></li><li class="dropdown-item"><!----> <a href="/blog-docs/technology/java/Docker/Docker入门教程/" class="nav-link">
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/blog-docs/technology/java/Jvm系列/Java类的加载机制/" class="nav-link">
  Jvm系列
</a></li><li class="dropdown-item"><!----> <a href="/blog-docs/technology/java/thread/基础知识/并发编程的优缺点/" class="nav-link">
  高并发
</a></li><li class="dropdown-item"><!----> <a href="/blog-docs/technology/java/算法/Java手写二叉搜索树算法/" class="nav-link">
  算法
</a></li><li class="dropdown-item"><!----> <a href="/blog-docs/technology/java/查缺补漏/Java面试题基础系列228道/" class="nav-link">
  查缺补漏
</a></li><li class="dropdown-item"><!----> <a href="/blog-docs/technology/java/other/基于canal的mysql数据同步/" class="nav-link">
  其它
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具" class="dropdown-title"><span class="title">工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="工具" class="mobile-dropdown-title"><span class="title">工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          在线编辑
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://app.diagrams.net/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  在线图表编辑工具
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.aconvert.com/cn/image/webp-to-jpg/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  WEBP转JPG - 在线转换图像文件
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://smallpdf.com/cn/pdf-to-word" target="_blank" rel="noopener noreferrer" class="nav-link external">
  PDF 转换器
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.json.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JSON 编辑器
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://tableconvert.com/?output=text" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MD 表格生成
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://cron.qqe2.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  CRON 表达式
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://tool.oschina.net/codeformat/html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  代码格式化
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://cli.im/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  二维码生成器
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="http://tool.chinaz.com/tools/native_ascii.aspx" target="_blank" rel="noopener noreferrer" class="nav-link external">
  在线编码转换
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.toyaml.com/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  YAML &lt;--&gt; Properties
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://jwt.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JWT解码
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          客户端
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://www.devart.com/dbforge/mysql/studio/download.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  dbForge Studio for MySQL
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          趋势分析
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://index.baidu.com/v2/index.html#/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  百度指数
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="常用网站" class="dropdown-title"><span class="title">常用网站</span> <span class="arrow down"></span></button> <button type="button" aria-label="常用网站" class="mobile-dropdown-title"><span class="title">常用网站</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://juejin.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.moyundong.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  牛魔王的博客
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.tianxiaobo.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  田小波的博客
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://funtl.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  千锋教育-李卫民
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://segmentfault.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  segmentfault技术社区
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://andyboke.blog.csdn.net/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  安迪源文
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="https://gitee.com/wuyilong/blog-docs" target="_blank" rel="noopener noreferrer" class="nav-link external">
  gitee
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/ty-wssf/blog-docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog-docs/install/" class="nav-link">
  安装文档
</a></div><div class="nav-item"><a href="/blog-docs/technology/前端/jQuery中封装ajax请求/" class="nav-link">
  前端
</a></div><div class="nav-item"><a href="/blog-docs/technology/Rust/Rust编程语言入门/" class="nav-link">
  Rust编程语言
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="java" class="dropdown-title"><span class="title">java</span> <span class="arrow down"></span></button> <button type="button" aria-label="java" class="mobile-dropdown-title"><span class="title">java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog-docs/technology/java/spring/Spring IOC/SpringBean的生命流程/" class="nav-link">
  Spring专题
</a></li><li class="dropdown-item"><!----> <a href="/blog-docs/technology/java/SpringBoot专题/" class="nav-link">
  SpringBoot专题
</a></li><li class="dropdown-item"><!----> <a href="/blog-docs/technology/java/基于OAuth2.0的统一身份认证中心/Spring Security oAuth2/" class="nav-link">
  基于OAuth2.0的统一身份认证中心
</a></li><li class="dropdown-item"><!----> <a href="/blog-docs/technology/java/SpingCloud Alibaba实战/微服务与SpringCloud Alibaba/" class="nav-link">
  SpingCloud Alibaba实战
</a></li><li class="dropdown-item"><!----> <a href="/blog-docs/technology/java/MyBatis/MyBatis 源码分析系列文章导读/" class="nav-link">
  MyBatis
</a></li><li class="dropdown-item"><!----> <a href="/blog-docs/technology/java/Dubbo/Dubbo 源码分析 - SPI 机制/" class="nav-link">
  Dubbo
</a></li><li class="dropdown-item"><!----> <a href="/blog-docs/technology/java/Docker/Docker入门教程/" class="nav-link">
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/blog-docs/technology/java/Jvm系列/Java类的加载机制/" class="nav-link">
  Jvm系列
</a></li><li class="dropdown-item"><!----> <a href="/blog-docs/technology/java/thread/基础知识/并发编程的优缺点/" class="nav-link">
  高并发
</a></li><li class="dropdown-item"><!----> <a href="/blog-docs/technology/java/算法/Java手写二叉搜索树算法/" class="nav-link">
  算法
</a></li><li class="dropdown-item"><!----> <a href="/blog-docs/technology/java/查缺补漏/Java面试题基础系列228道/" class="nav-link">
  查缺补漏
</a></li><li class="dropdown-item"><!----> <a href="/blog-docs/technology/java/other/基于canal的mysql数据同步/" class="nav-link">
  其它
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具" class="dropdown-title"><span class="title">工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="工具" class="mobile-dropdown-title"><span class="title">工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          在线编辑
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://app.diagrams.net/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  在线图表编辑工具
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.aconvert.com/cn/image/webp-to-jpg/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  WEBP转JPG - 在线转换图像文件
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://smallpdf.com/cn/pdf-to-word" target="_blank" rel="noopener noreferrer" class="nav-link external">
  PDF 转换器
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.json.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JSON 编辑器
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://tableconvert.com/?output=text" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MD 表格生成
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://cron.qqe2.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  CRON 表达式
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://tool.oschina.net/codeformat/html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  代码格式化
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://cli.im/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  二维码生成器
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="http://tool.chinaz.com/tools/native_ascii.aspx" target="_blank" rel="noopener noreferrer" class="nav-link external">
  在线编码转换
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.toyaml.com/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  YAML &lt;--&gt; Properties
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://jwt.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JWT解码
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          客户端
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://www.devart.com/dbforge/mysql/studio/download.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  dbForge Studio for MySQL
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          趋势分析
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://index.baidu.com/v2/index.html#/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  百度指数
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="常用网站" class="dropdown-title"><span class="title">常用网站</span> <span class="arrow down"></span></button> <button type="button" aria-label="常用网站" class="mobile-dropdown-title"><span class="title">常用网站</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://juejin.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.moyundong.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  牛魔王的博客
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.tianxiaobo.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  田小波的博客
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://funtl.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  千锋教育-李卫民
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://segmentfault.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  segmentfault技术社区
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://andyboke.blog.csdn.net/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  安迪源文
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="https://gitee.com/wuyilong/blog-docs" target="_blank" rel="noopener noreferrer" class="nav-link external">
  gitee
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/ty-wssf/blog-docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>基础知识</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog-docs/technology/java/thread/基础知识/并发编程的优缺点.html" class="sidebar-link">并发编程的优缺点</a></li><li><a href="/blog-docs/technology/java/thread/基础知识/线程的状态转换以及基本操作.html" class="sidebar-link">线程的状态转换以及基本操作</a></li><li><a href="/blog-docs/technology/java/thread/基础知识/漫谈Java线程状态.html" class="sidebar-link">漫谈Java线程状态</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>并发原理</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog-docs/technology/java/thread/并发原理/Java内存模型以及happens-before规则.html" class="sidebar-link">Java内存模型以及happens-before规则</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>并发关键字</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog-docs/technology/java/thread/并发关键字/彻底理解synchronized.html" class="sidebar-link">彻底理解synchronized</a></li><li><a href="/blog-docs/technology/java/thread/并发关键字/深入分析Synchronized原理.html" class="sidebar-link">深入分析Synchronized原理</a></li><li><a href="/blog-docs/technology/java/thread/并发关键字/彻底理解volatile.html" class="sidebar-link">彻底理解volatile</a></li><li><a href="/blog-docs/technology/java/thread/并发关键字/你以为你真的了解final吗.html" class="sidebar-link">你以为你真的了解final吗？</a></li><li><a href="/blog-docs/technology/java/thread/并发关键字/三大性质总结：原子性、可见性以及有序性.html" class="sidebar-link">三大性质总结：原子性、可见性以及有序性</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Lock体系</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog-docs/technology/java/thread/Lock体系/初识Lock与AbstractQueuedSynchronizer(AQS).html" class="sidebar-link">初识Lock与AbstractQueuedSynchronizer(AQS)</a></li><li><a href="/blog-docs/technology/java/thread/Lock体系/深入理解AbstractQueuedSynchronizer(AQS).html" class="sidebar-link">深入理解AbstractQueuedSynchronizer(AQS)</a></li><li><a href="/blog-docs/technology/java/thread/Lock体系/彻底理解ReentrantLock.html" class="sidebar-link">彻底理解ReentrantLock</a></li><li><a href="/blog-docs/technology/java/thread/Lock体系/深入理解读写锁ReentrantReadWriteLock.html" class="sidebar-link">深入理解读写锁ReentrantReadWriteLock</a></li><li><a href="/blog-docs/technology/java/thread/Lock体系/详解Condition的await和signal等待通知机制.html" class="sidebar-link">详解Condition的await和signal等待/通知机制</a></li><li><a href="/blog-docs/technology/java/thread/Lock体系/LockSupport工具.html" class="sidebar-link">LockSupport工具</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>并发容器</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog-docs/technology/java/thread/并发容器/并发容器之ConcurrentHashMap(JDK-1.8版本).html" class="sidebar-link">并发容器之ConcurrentHashMap(JDK 1.8版本)</a></li><li><a href="/blog-docs/technology/java/thread/并发容器/并发容器之CopyOnWriteArrayList.html" class="sidebar-link">并发容器之CopyOnWriteArrayList</a></li><li><a href="/blog-docs/technology/java/thread/并发容器/并发容器之ConcurrentLinkedQueue.html" class="sidebar-link">并发容器之ConcurrentLinkedQueue</a></li><li><a href="/blog-docs/technology/java/thread/并发容器/并发容器之ThreadLocal.html" class="sidebar-link">并发容器之ThreadLocal</a></li><li><a href="/blog-docs/technology/java/thread/并发容器/从源码深入详解ThreadLocal内存泄漏问题.html" class="sidebar-link">从源码深入详解ThreadLocal内存泄漏问题</a></li><li><a href="/blog-docs/technology/java/thread/并发容器/并发容器之BlockingQueue.html" class="sidebar-link">并发容器之BlockingQueue</a></li><li><a href="/blog-docs/technology/java/thread/并发容器/并发容器之ArrayBlockingQueue和LinkedBlockingQueue实现原理详解.html" class="sidebar-link">并发容器之ArrayBlockingQueue和LinkedBlockingQueue实现原理详解</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Executor体系</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog-docs/technology/java/thread/Executor体系/线程池ThreadPoolExecutor实现原理.html" class="sidebar-link">线程池ThreadPoolExecutor实现原理</a></li><li><a href="/blog-docs/technology/java/thread/Executor体系/线程池之ScheduledThreadPoolExecutor.html" class="sidebar-link">线程池之ScheduledThreadPoolExecutor</a></li><li><a href="/blog-docs/technology/java/thread/Executor体系/FutureTask基本操作总结.html" class="sidebar-link">FutureTask基本操作总结</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>原子操作类</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog-docs/technology/java/thread/原子操作类/Java中atomic包中的原子操作类总结.html" class="active sidebar-link">Java中atomic包中的原子操作类总结</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog-docs/technology/java/thread/原子操作类/Java中atomic包中的原子操作类总结.html#_1-原子操作类介绍" class="sidebar-link">1. 原子操作类介绍</a></li><li class="sidebar-sub-header"><a href="/blog-docs/technology/java/thread/原子操作类/Java中atomic包中的原子操作类总结.html#_2-预备知识-cas-操作" class="sidebar-link">2. 预备知识--CAS 操作</a></li><li class="sidebar-sub-header"><a href="/blog-docs/technology/java/thread/原子操作类/Java中atomic包中的原子操作类总结.html#_3-原子更新基本类型" class="sidebar-link">3. 原子更新基本类型</a></li><li class="sidebar-sub-header"><a href="/blog-docs/technology/java/thread/原子操作类/Java中atomic包中的原子操作类总结.html#_4-原子更新数组类型" class="sidebar-link">4. 原子更新数组类型</a></li><li class="sidebar-sub-header"><a href="/blog-docs/technology/java/thread/原子操作类/Java中atomic包中的原子操作类总结.html#_5-原子更新引用类型" class="sidebar-link">5. 原子更新引用类型</a></li><li class="sidebar-sub-header"><a href="/blog-docs/technology/java/thread/原子操作类/Java中atomic包中的原子操作类总结.html#_6-原子更新字段类型" class="sidebar-link">6. 原子更新字段类型</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>并发工具</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog-docs/technology/java/thread/并发工具/大白话说java并发工具类-CountDownLatch，CyclicBarrier.html" class="sidebar-link">大白话说java并发工具类-CountDownLatch，CyclicBarrier</a></li><li><a href="/blog-docs/technology/java/thread/并发工具/大白话说java并发工具类-Semaphore，Exchanger.html" class="sidebar-link">大白话说java并发工具类-Semaphore，Exchanger</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>并发实战</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog-docs/technology/java/thread/并发实战/彻底弄懂生产者--消费者问题.html" class="sidebar-link">彻底弄懂生产者--消费者问题</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="java中atomic包中的原子操作类总结"><a href="#java中atomic包中的原子操作类总结" class="header-anchor">#</a> Java中atomic包中的原子操作类总结</h1> <h2 id="_1-原子操作类介绍"><a href="#_1-原子操作类介绍" class="header-anchor">#</a> 1. 原子操作类介绍</h2> <p>在并发编程中很容易出现并发安全的问题，有一个很简单的例子就是多线程更新变量 i=1,比如多个线程执行 i++操作，就有可能获取不到正确的值，而这个问题，最常用的方法是通过 Synchronized 进行控制来达到线程安全的目的（<a href="https://juejin.im/post/6844903600334831629" target="_blank" rel="noopener noreferrer">关于 synchronized 可以看这篇文章<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>）。但是由于 synchronized 是采用的是悲观锁策略，并不是特别高效的一种解决方案。实际上，在 J.U.C 下的 atomic 包提供了一系列的操作简单，性能高效，并能保证线程安全的类去更新基本类型变量，数组元素，引用类型以及更新对象中的字段类型。atomic 包下的这些类都是采用的是乐观锁策略去原子更新数据，在 java 中则是使用 CAS 操作具体实现。</p> <h2 id="_2-预备知识-cas-操作"><a href="#_2-预备知识-cas-操作" class="header-anchor">#</a> 2. 预备知识--CAS 操作</h2> <p>能够弄懂 atomic 包下这些原子操作类的实现原理，就要先明白什么是 CAS 操作。</p> <blockquote><p>什么是 CAS?</p></blockquote> <p>使用锁时，线程获取锁是一种悲观锁策略，即假设每一次执行临界区代码都会产生冲突，所以当前线程获取到锁的时候同时也会阻塞其他线程获取该锁。而 CAS 操作（又称为无锁操作）是一种乐观锁策略，它假设所有线程访问共享资源的时候不会出现冲突，既然不会出现冲突自然而然就不会阻塞其他线程的操作。因此，线程就不会出现阻塞停顿的状态。那么，如果出现冲突了怎么办？无锁操作是使用 CAS(compare and swap)又叫做比较交换来鉴别线程是否出现冲突，出现冲突就重试当前操作直到没有冲突为止。</p> <blockquote><p>CAS 的操作过程</p></blockquote> <p>CAS 比较交换的过程可以通俗的理解为 CAS(V,O,N)，包含三个值分别为：V 内存地址存放的实际值；O 预期的值（旧值）；N 更新的新值。当 V 和 O 相同时，也就是说旧值和内存中实际的值相同表明该值没有被其他线程更改过，即该旧值 O 就是目前来说最新的值了，自然而然可以将新值 N 赋值给 V。反之，V 和 O 不相同，表明该值已经被其他线程改过了则该旧值 O 不是最新版本的值了，所以不能将新值 N 赋给 V，返回 V 即可。当多个线程使用 CAS 操作一个变量是，只有一个线程会成功，并成功更新，其余会失败。失败的线程会重新尝试，当然也可以选择挂起线程</p> <p>CAS 的实现需要硬件指令集的支撑，在 JDK1.5 后虚拟机才可以使用处理器提供的 CMPXCHG 指令实现。</p> <p><strong>Synchronized VS CAS</strong></p> <p>元老级的 Synchronized(未优化前)最主要的问题是：在存在线程竞争的情况下会出现线程阻塞和唤醒锁带来的性能问题，因为这是一种互斥同步（阻塞同步）。而 CAS 并不是武断的间线程挂起，当 CAS 操作失败后会进行一定的尝试，而非进行耗时的挂起唤醒的操作，因此也叫做非阻塞同步。这是两者主要的区别。</p> <blockquote><p>CAS 的问题</p></blockquote> <ol><li>ABA 问题 因为 CAS 会检查旧值有没有变化，这里存在这样一个有意思的问题。比如一个旧值 A 变为了成 B，然后再变成 A，刚好在做 CAS 时检查发现旧值并没有变化依然为 A，但是实际上的确发生了变化。解决方案可以沿袭数据库中常用的乐观锁方式，添加一个版本号可以解决。原来的变化路径 A-&gt;B-&gt;A 就变成了 1A-&gt;2B-&gt;3C。</li> <li>自旋时间过长</li></ol> <p>使用 CAS 时非阻塞同步，也就是说不会将线程挂起，会自旋（无非就是一个死循环）进行下一次尝试，如果这里自旋时间过长对性能是很大的消耗。如果 JVM 能支持处理器提供的 pause 指令，那么在效率上会有一定的提升。</p> <h2 id="_3-原子更新基本类型"><a href="#_3-原子更新基本类型" class="header-anchor">#</a> 3. 原子更新基本类型</h2> <p>atomic 包提高原子更新基本类型的工具类，主要有这些：</p> <ol><li>AtomicBoolean：以原子更新的方式更新 boolean；</li> <li>AtomicInteger：以原子更新的方式更新 Integer;</li> <li>AtomicLong：以原子更新的方式更新 Long；</li></ol> <p>这几个类的用法基本一致，这里以 AtomicInteger 为例总结常用的方法</p> <ol><li>addAndGet(int delta) ：以原子方式将输入的数值与实例中原本的值相加，并返回最后的结果；</li> <li>incrementAndGet() ：以原子的方式将实例中的原值进行加 1 操作，并返回最终相加后的结果；</li> <li>getAndSet(int newValue)：将实例中的值更新为新值，并返回旧值；</li> <li>getAndIncrement()：以原子的方式将实例中的原值加 1，返回的是自增前的旧值；</li></ol> <p>还有一些方法，可以查看 API，不再赘述。为了能够弄懂 AtomicInteger 的实现原理，以 getAndIncrement 方法为例，来看下源码：</p> <div class="language- extra-class"><pre class="language-text"><code>public final int getAndIncrement() {
    return unsafe.getAndAddInt(this, valueOffset, 1);
}
</code></pre></div><p>可以看出，该方法实际上是调用了 unsafe 实例的 getAndAddInt 方法，unsafe 实例的获取时通过 UnSafe 类的静态方法 getUnsafe 获取：</p> <div class="language- extra-class"><pre class="language-text"><code>private static final Unsafe unsafe = Unsafe.getUnsafe();
</code></pre></div><p>Unsafe 类在 sun.misc 包下，Unsafer 类提供了一些底层操作，atomic 包下的原子操作类的也主要是通过 Unsafe 类提供的 compareAndSwapInt，compareAndSwapLong 等一系列提供 CAS 操作的方法来进行实现。下面用一个简单的例子来说明 AtomicInteger 的用法：</p> <div class="language- extra-class"><pre class="language-text"><code>public class AtomicDemo {
    private static AtomicInteger atomicInteger = new AtomicInteger(1);
    public static void main(String[] args) {
        System.out.println(atomicInteger.getAndIncrement());
        System.out.println(atomicInteger.get());
    }
}
输出结果：
1
2
</code></pre></div><p>例子很简单，就是新建了一个 atomicInteger 对象，而 atomicInteger 的构造方法也就是传入一个基本类型数据即可，对其进行了封装。对基本变量的操作比如自增，自减，相加，更新等操作，atomicInteger 也提供了相应的方法进行这些操作。但是，因为 atomicInteger 借助了 UnSafe 提供的 CAS 操作能够保证数据更新的时候是线程安全的，并且由于 CAS 是采用乐观锁策略，因此，这种数据更新的方法也具有高效性。</p> <p>AtomicLong 的实现原理和 AtomicInteger 一致，只不过一个针对的是 long 变量，一个针对的是 int 变量。而 boolean 变量的更新类 AtomicBoolean 类是怎样实现更新的呢?核心方法是<code>compareAndSet</code>方法，其源码如下：</p> <div class="language- extra-class"><pre class="language-text"><code>public final boolean compareAndSet(boolean expect, boolean update) {
    int e = expect ? 1 : 0;
    int u = update ? 1 : 0;
    return unsafe.compareAndSwapInt(this, valueOffset, e, u);
}
</code></pre></div><p>可以看出，compareAndSet 方法的实际上也是先转换成 0,1 的整型变量，然后是通过针对 int 型变量的原子更新方法 compareAndSwapInt 来实现的。可以看出 atomic 包中只提供了对 boolean,int ,long 这三种基本类型的原子更新的方法，参考对 boolean 更新的方式，原子更新 char,doule,float 也可以采用类似的思路进行实现。</p> <h2 id="_4-原子更新数组类型"><a href="#_4-原子更新数组类型" class="header-anchor">#</a> 4. 原子更新数组类型</h2> <p>atomic 包下提供能原子更新数组中元素的类有：</p> <ol><li>AtomicIntegerArray：原子更新整型数组中的元素；</li> <li>AtomicLongArray：原子更新长整型数组中的元素；</li> <li>AtomicReferenceArray：原子更新引用类型数组中的元素</li></ol> <p>这几个类的用法一致，就以 AtomicIntegerArray 来总结下常用的方法：</p> <ol><li>addAndGet(int i, int delta)：以原子更新的方式将数组中索引为 i 的元素与输入值相加；</li> <li>getAndIncrement(int i)：以原子更新的方式将数组中索引为 i 的元素自增加 1；</li> <li>compareAndSet(int i, int expect, int update)：将数组中索引为 i 的位置的元素进行更新</li></ol> <p>可以看出，AtomicIntegerArray 与 AtomicInteger 的方法基本一致，只不过在 AtomicIntegerArray 的方法中会多一个指定数组索引位 i。下面举一个简单的例子：</p> <div class="language- extra-class"><pre class="language-text"><code>public class AtomicDemo {
    private static AtomicInteger atomicInteger = new AtomicInteger(1);
    private static int[] value = new int[] { 1, 2, 3 };
    private static AtomicIntegerArray integerArray = new AtomicIntegerArray(value);

    public static void main(String[] args) { 
        //对数组中索引为1的位置的元素加5    
        int result = integerArray.getAndAdd(1, 5);
        System.out.println(integerArray.get(1));
        System.out.println(result);
    }
}
输出结果： 7 2 
</code></pre></div><p>通过 getAndAdd 方法将位置为 1 的元素加 5，从结果可以看出索引为 1 的元素变成了 7，该方法返回的也是相加之前的数为 2。</p> <h2 id="_5-原子更新引用类型"><a href="#_5-原子更新引用类型" class="header-anchor">#</a> 5. 原子更新引用类型</h2> <p>如果需要原子更新引用类型变量的话，为了保证线程安全，atomic 也提供了相关的类：</p> <ol><li>AtomicReference：原子更新引用类型；</li> <li>AtomicReferenceFieldUpdater：原子更新引用类型里的字段；</li> <li>AtomicMarkableReference：原子更新带有标记位的引用类型；</li></ol> <p>这几个类的使用方法也是基本一样的，以 AtomicReference 为例，来说明这些类的基本用法。下面是一个 demo</p> <div class="language- extra-class"><pre class="language-text"><code>public class AtomicDemo {
    private static AtomicReference reference = new AtomicReference();

    public static void main(String[] args) {
        User user1 = new User(&quot;a&quot;, 1);
        reference.set(user1);

        User user2 = new User(&quot;b&quot;, 2);
        User user = reference.getAndSet(user2);
        System.out.println(user);
        System.out.println(reference.get());
    }

    static class User {
        private String userName;
        private int age;

        public User(String userName, int age) {
            this.userName = userName;
            this.age = age;
        }

        @Override
        public String toString() {
            return &quot;User{&quot; + &quot;userName='&quot; + userName + '\'' + &quot;, age=&quot; + age +
            '}';
        }
    }
}
输出结果： User{userName='a', age=1} User{userName='b', age=2} 
</code></pre></div><p>首先将对象 User1 用 AtomicReference 进行封装，然后调用 getAndSet 方法，从结果可以看出，该方法会原子更新引用的 user 对象，变为<code>User{userName='b', age=2}</code>，返回的是原来的 user 对象 User<code>{userName='a', age=1}</code>。</p> <h2 id="_6-原子更新字段类型"><a href="#_6-原子更新字段类型" class="header-anchor">#</a> 6. 原子更新字段类型</h2> <p>如果需要更新对象的某个字段，并在多线程的情况下，能够保证线程安全，atomic 同样也提供了相应的原子操作类：</p> <ol><li>AtomicIntegeFieldUpdater：原子更新整型字段类；</li> <li>AtomicLongFieldUpdater：原子更新长整型字段类；</li> <li>AtomicStampedReference：原子更新引用类型，这种更新方式会带有版本号。而为什么在更新的时候会带有版本号，是为了解决 CAS 的 ABA 问题；</li></ol> <p>要想使用原子更新字段需要两步操作：</p> <ol><li>原子更新字段类都是抽象类，只能通过静态方法<code>newUpdater</code>来创建一个更新器，并且需要设置想要更新的类和属性；</li> <li>更新类的属性必须使用<code>public volatile</code>进行修饰；</li></ol> <p>这几个类提供的方法基本一致，以 AtomicIntegerFieldUpdater 为例来看看具体的使用：</p> <div class="language- extra-class"><pre class="language-text"><code>public class AtomicDemo {
    private static AtomicIntegerFieldUpdater updater = AtomicIntegerFieldUpdater.newUpdater(User.class,
            &quot;age&quot;);

    public static void main(String[] args) {
        User user = new User(&quot;a&quot;, 1);
        int oldValue = updater.getAndAdd(user, 5);
        System.out.println(oldValue);
        System.out.println(updater.get(user));
    }

    static class User {
        private String userName;
        public volatile int age;

        public User(String userName, int age) {
            this.userName = userName;
            this.age = age;
        }

        @Override
        public String toString() {
            return &quot;User{&quot; + &quot;userName='&quot; + userName + '\'' + &quot;, age=&quot; + age +
            '}';
        }
    }
}
输出结果： 1 6 
</code></pre></div><p>从示例中可以看出，创建<code>AtomicIntegerFieldUpdater</code>是通过它提供的静态方法进行创建，<code>getAndAdd</code>方法会将指定的字段加上输入的值，并且返回相加之前的值。user 对象中 age 字段原值为 1，加 5 之后，可以看出 user 对象中的 age 字段的值已经变成了 6。</p> <p>来源于 https://juejin.cn/post/6844903602457165837</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/ty-wssf/blog-docs/edit/master/docs/technology/java/thread/原子操作类/Java中atomic包中的原子操作类总结.md" target="_blank" rel="noopener noreferrer">帮助我们改善此页面！</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">最后更新时间:</span> <span class="time">9/17/2021, 1:44:31 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog-docs/technology/java/thread/Executor体系/FutureTask基本操作总结.html" class="prev">
        FutureTask基本操作总结
      </a></span> <span class="next"><a href="/blog-docs/technology/java/thread/并发工具/大白话说java并发工具类-CountDownLatch，CyclicBarrier.html">
        大白话说java并发工具类-CountDownLatch，CyclicBarrier
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/blog-docs/assets/js/app.a89f69b6.js" defer></script><script src="/blog-docs/assets/js/2.d20fb779.js" defer></script><script src="/blog-docs/assets/js/119.4e52457a.js" defer></script>
  </body>
</html>
